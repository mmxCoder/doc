"use strict";(self.webpackChunkrspress_doc_template=self.webpackChunkrspress_doc_template||[]).push([["290"],{64312:function(e,n,s){s.r(n);var r=s("85893"),t=s("50065");function a(e){let n=Object.assign({h1:"h1",a:"a",blockquote:"blockquote",p:"p",br:"br",strong:"strong",code:"code",div:"div",h2:"h2",h3:"h3",pre:"pre",h4:"h4"},(0,t.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"\u4EFB\u52A1\u5E76\u53D1\u63A7\u5236",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4EFB\u52A1\u5E76\u53D1\u63A7\u5236",children:"#"}),"\u4EFB\u52A1\u5E76\u53D1\u63A7\u5236"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5982\u679C\u4F60\u662F\u4E00\u4E2A\u524D\u7AEF\u5F00\u53D1, \u4F60\u5E94\u8BE5\u77E5\u9053\u6D4F\u89C8\u5668\u5BF9\u540C\u57DF\u540D\u7684\u8BF7\u6C42\u662F\u6709\u5E76\u53D1\u9650\u5236\u7684.",(0,r.jsx)(n.br,{}),"\n","\u6BD4\u5982chrome\u4E2D, \u8FD9\u4E2A\u9650\u5236\u4E3A ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"6\u4E2A"})})," , \u4E5F\u5C31\u662F\u8BF4, \u5982\u679C\u4F60\u521D\u59CB\u5316\u7684\u8D44\u6E90\u8BF7\u6C42\u8D85\u8FC7 ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"6\u4E2A"})})," \u65F6, \u591A\u4F59\u7684\u5C06\u8FDB\u884C\u7B49\u5F85,",(0,r.jsx)(n.br,{}),"\n","\u7B49\u5230\u6709\u7A7A\u7F3A\u65F6\u624D\u8FDB\u884C\u8BF7\u6C42, \u4E5F\u5C31\u662F\u540C\u4E00\u65F6\u95F4 ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\u6700\u591A\u53EA\u80FD\u662F6\u4E2A"})})," ."]}),"\n"]}),"\n",(0,r.jsxs)(n.div,{className:"rspress-directive info",children:[(0,r.jsx)(n.div,{className:"rspress-directive-title",children:"\u63D0\u793A"}),(0,r.jsx)(n.div,{className:"rspress-directive-content",children:(0,r.jsxs)(n.p,{children:["\u5177\u4F53\u539F\u56E0\u53EF\u4EE5\u70B9\u51FB: ",(0,r.jsx)("a",{href:"../expand/browserConcurrency",children:"\u8865\u5145\u77E5\u8BC6-\u6D4F\u89C8\u5668\u5E76\u53D1\u9650\u5236\u7684\u539F\u56E0"})]})})]}),"\n",(0,r.jsxs)(n.h2,{id:"\u81EA\u5DF1\u5B9E\u73B0\u4EFB\u52A1\u6C60\u9650\u5236",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u81EA\u5DF1\u5B9E\u73B0\u4EFB\u52A1\u6C60\u9650\u5236",children:"#"}),"\u81EA\u5DF1\u5B9E\u73B0\u4EFB\u52A1\u6C60\u9650\u5236"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u5728\u524D\u7AEF\u4EE3\u7801\u4E0A, \u6211\u4EEC\u8981\u5B9E\u73B0\u7684\u5C31\u4E0D\u4EC5\u4EC5\u662F\u8BF7\u6C42\u5C42\u9762\u7684\u63A7\u5236, \u800C\u662F\u9488\u5BF9\u6240\u6709\u60C5\u51B5, \u5E94\u8BE5\u662F\u8BF4 ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"Task(\u4EFB\u52A1)"})})," , \u4EFB\u4F55\u4E00\u4E2A\u51FD\u6570\u90FD\u53EF\u4EE5\u79F0\u4E3A\u4E00\u4E2A\u4EFB\u52A1."]}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"\u8BBE\u8BA1\u57FA\u672C\u67B6\u6784",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u8BBE\u8BA1\u57FA\u672C\u67B6\u6784",children:"#"}),"\u8BBE\u8BA1\u57FA\u672C\u67B6\u6784"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"pure",children:"\nclass TaskPool {\n    constructor() {}\n    // \u6DFB\u52A0\u4EFB\u52A1\n    addTask() {}\n    // \u5F00\u59CB\u6267\u884C\u4EFB\u52A1\n    execTask() {}\n}\n\nconst task = new TaskPool()\n\ntask.addTask(() => {\n    const date = Date.now()\n    // \u540C\u6B65\u963B\u585E3\u79D2\n    while (Data.now() - date > 3000) {}\n    console.log('\u4EFB\u52A1\u4E00\u6267\u884C\u7ED3\u675F.')\n})\ntask.addTask(() => {\n    // \u5F02\u6B65\u7B49\u5F853\u79D2\n    return new Promise(resolve => {\n        setTimeout(() => {\n            resolve(true)\n            console.log('\u4EFB\u52A1\u4E8C\u6267\u884C\u7ED3\u675F')\n        }, 3000);\n    })\n})\n\ntask.execTask()\n\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"\u5F00\u59CB\u5B9E\u73B0-addtask-\u51FD\u6570",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5F00\u59CB\u5B9E\u73B0-addtask-\u51FD\u6570",children:"#"}),"\u5F00\u59CB\u5B9E\u73B0 addTask \u51FD\u6570"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u8FD9\u4E2A\u51FD\u6570\u5F88\u7B80\u5355, \u5C31\u6267\u884C\u628A\u4EFB\u52A1\u51FD\u6570\u63A8\u8FDB\u961F\u5217\u5C31\u53EF\u4EE5\u4E86."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"pure",children:"\nclass TaskPool {\n    constructor() {\n        // \u4FDD\u5B58\u4EFB\u52A1\u961F\u5217\n        this.taskList = []\n    }\n    // \u6DFB\u52A0\u4EFB\u52A1\n    addTask(task) {\n        this.taskList.push(task)\n    }\n}\n\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"\u5F00\u59CB\u5B9E\u73B0-exectask-\u51FD\u6570",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5F00\u59CB\u5B9E\u73B0-exectask-\u51FD\u6570",children:"#"}),"\u5F00\u59CB\u5B9E\u73B0 execTask \u51FD\u6570"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u8FD9\u4E2A\u51FD\u6570\u5C31\u9EBB\u70E6\u4E00\u70B9, \u8FD9\u4E2A\u63A7\u5236\u903B\u8F91\u90FD\u5728\u8FD9\u91CC\u6267\u884C."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",meta:"pure",children:"\n// \u8FD9\u4E2A\u51FD\u6570\u63A5\u53D7\u4E00\u4E2A\u53C2\u6570 count. \u8868\u793A\u53EF\u4EE5\u4EFB\u52A1\u6C60\u540C\u65F6\u6700\u591A\u6267\u884C\u591A\u5C11\u4E2A\u4EFB\u52A1.\nexecTask({ count }) {\n\n    // \u5982\u679C\u4EFB\u52A1\u961F\u5217\u4E3A\u7A7A, \u5219\u4E0D\u6267\u884C.\n    if (!this.taskList.length) return;\n\n    // \u4FDD\u5B58\u6240\u6709\u4EFB\u52A1\n    const allTask = []\n    // \u4FDD\u5B58\u6B63\u5728\u6267\u884C\u7684\u4EFB\u52A1\n    const executing = []\n\n    for (const task of this.taskList) {\n       // \u5305\u88C5\u6210promise, \u517C\u5BB9\u540C\u6B65/\u5F02\u6B65\u4EFB\u52A1\n       const p = Promise.resolve().then(() => task())\n       allTask.push(p)\n\n      if (executing.length <= count) {\n        const e = p.then(() => { executing.splice(e, 1) })\n        executing.push(e)\n      }\n\n\n    }\n\n}\n\nhttps://juejin.cn/post/6997766000879861796?from=search-suggest\n\n"})})]})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(a,e)})):a(e)}n.default=c,c.__RSPRESS_PAGE_META={},c.__RSPRESS_PAGE_META["views%2Fnote%2FrequestControl.mdx"]={toc:[{id:"\u81EA\u5DF1\u5B9E\u73B0\u4EFB\u52A1\u6C60\u9650\u5236",text:"\u81EA\u5DF1\u5B9E\u73B0\u4EFB\u52A1\u6C60\u9650\u5236",depth:2},{id:"\u8BBE\u8BA1\u57FA\u672C\u67B6\u6784",text:"\u8BBE\u8BA1\u57FA\u672C\u67B6\u6784",depth:3},{id:"\u5F00\u59CB\u5B9E\u73B0-addtask-\u51FD\u6570",text:"\u5F00\u59CB\u5B9E\u73B0 addTask \u51FD\u6570",depth:4},{id:"\u5F00\u59CB\u5B9E\u73B0-exectask-\u51FD\u6570",text:"\u5F00\u59CB\u5B9E\u73B0 execTask \u51FD\u6570",depth:4}],title:"\u4EFB\u52A1\u5E76\u53D1\u63A7\u5236",frontmatter:{}}}}]);